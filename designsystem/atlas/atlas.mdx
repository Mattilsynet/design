import { Meta, Canvas } from '@storybook/addon-docs/blocks';
import { JumpTo } from '../../.storybook/blocks';
import * as stories from './atlas.stories';
import { Popover } from '../react';


<Meta of={stories} />

# Atlas (Eksperimentell)

> Atlas er et standardisert oppsett for presentasjon av kart.

<JumpTo />
<Popover id="pop-jsref" style={{ maxWidth: 500 }}>For eksempel via `document.getElementById` eller via `useRef` i React.</Popover>

## Kode
- Bruk elementet `<mtds-atlas>` - også i React
- Importer `import "@mattilsynet/design/atlas"` eller<br/>`import { L } from "@mattilsynet/design/atlas"` ved behov for tilgang til [Leaflet](https://leafletjs.com/)
- **Karttegning** leveres av [Leaflet](https://leafletjs.com/) (2.0.0@alpha.1) for å oppnå god ytelse og kompatibilitet
- **Kartlag** leveres av [Kartverket](https://cache.kartverket.no/) for oppnå gjenkjennlige og presise norgeskart

## Utsnitt
- Bruk `data-view="lat, lng, zoom"` for å  kartutsnittet
- Bruk `data-view="fit"` for å få et utsnitt med alle markører
- Hent Atlas elementet via JS (f.eks `document.getElementById` eller `useRef` i React) og kall `atlasElement.setView([lat, lng, zoom])` eller `atlasElement.setView('fit')` for å endre utsnitt programatisk
<Canvas of={stories.WithView} />

## Kartlag
- Bruk `data-tiles="grayscale | color"` for å endre kartlag
<Canvas of={stories.WithColor} />

## Markører
- Hent Atlas elementet via JS (f.eks `document.getElementById` eller `useRef` i React)
- Legg til markører via `atlasElement.addMarker(latlng, options?)`
- Funksjonen returnerer [`L.Marker`](https://leafletjs.com/reference.html#marker) for videre manipulering ved behov
<Canvas of={stories.WithMarker} />

## Klikk-for-handling
- Bruk `data-cursor="pointer"` for å indikere at kartet er klikkbart
- Hent Atlas elementet via JS (f.eks `document.getElementById` eller `useRef` i React)
- Legg til `click` event via `atlasElement.map.on('click', (e) => { /* Your action here */ })`
<Canvas of={stories.WithClickToAddMarker} />

## Clustering
- Bruk `data-cluster="number"` for å aktivere clustring fra til et gitt zoom-nivå og utover
<Canvas of={stories.WithClustering} />

## Uten scroll-zoom
- Bruk `data-scroll-zoom="false"` for å deaktivere zooming med scroll-hjul
<Canvas of={stories.WithoutScrollZoom} />