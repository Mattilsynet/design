import { Meta, Canvas } from '@storybook/addon-docs/blocks';
import { Example, CssVariables, JumpTo } from '../../.storybook/blocks';
import * as stories from './print.stories';
import { Button } from '../react';
import styles from '../styles.module.css';
import printCSS from './print.css?raw';

<Meta of={stories} />

# Print (Eksperimentell)
> Print brukes for å lage PDF eller utskriftsvennlige rapporter og dokumenter med Mattilsynets designprofil.
> I nettleser får du en A4-forhåndsvisning, og ved PDF/utskrift får du sidetall, bunnlinje og kontrollerte sideskift som unngår brudd i bilder, lister og tabeller.

<JumpTo />

## Kode
- All HTML du lager, kan sendes til Mattilsynets [HTML-til-PDF-tjeneste](https://github.com/Mattilsynet/html-to-pdf)
  - Koden legges automatisk i `<body>`, så du trenger ikke lage head, meta osv selv.
  - Tjenesten bruker headless Chrome, så bruk Chromes print-preview ved lokal testing
  - Alle bilder må inlines som `base64`-urler så de blir en del av HTML-strengen
  - All CSS og fonter må også inlines, dette hjelper designsystemet med slik:

```
import { printcss } from '@mattilsynet/design';

<div id="my-print">
  <style>
    {printcss}
    :root {
      --mtdsc-print-office: 'ditt kontor';
      --mtdsc-print-department: 'din avdeling';
      --mtdsc-print-classification: none; /* Optional, remove to get "Unntatt offentlighet" */

      --mtdsc-print-back-tagline: none; /* Optional, if using data-variant="back" */
      --mtdsc-print-back-footer: none; /* Optional, if using data-variant="back" */
    }
  </style>
  <section className="print">
    innhold her
  </section>
</div>
```

## Brevmal

- For å legge inn mottaker, lag en `<address>` og `<dl>` inne i en `<div>`:

```
<div>
  <address>
    Eksempelstedet AS
    <br />Uendeligveien 999
    <br />0000 Sted
  </address>
  <dl>
    <dt>Vår ref:</dt><dd>2004/12345</dd>
    <dt>Dato:</dt><dd>01.01.2024</dd>
    <dt>Org.nr:</dt><dd>123456789</dd>
  </dl>
</div>
```

<div className="sbdocs-canvas-thumbnail">
  <Button data-arrow data-variant="primary" target="_blank" href="/iframe.html?globals=&id=designsystem-print--brevmal">Se brevmal i ny fane</Button>
  <Canvas of={stories.Brevmal} />
</div>

## Rapportmal
- Legg til en `<section className="print" data-variant="front">` for forside
- Legg til en `<section className="print" data-variant="back">` for bakside

<div className="sbdocs-canvas-thumbnail">
  <Button data-arrow data-variant="primary" target="_blank" href="/iframe.html?globals=&id=designsystem-print--rapportmal">Se rapportmal i ny fane</Button>
  <Canvas of={stories.Rapportmal} />
</div>

<CssVariables component='print' css={printCSS} />