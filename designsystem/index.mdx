import { Meta } from '@storybook/blocks';
import { getPkgVersion } from '../.storybook/blocks';
import { ArrowSquareOutIcon } from "@phosphor-icons/react";
import { Flex, Button, Divider, Tabs } from './react'
import { styles } from './';

<Meta title="Designsystem/Introduksjon" />

# Designsystem

> Mattilsynets designsystem bygger opp√• [designsystemet.no](https://www.designsystemet.no/),
men utvider med egenart, visuelle identitet og interne behov. Designsystemet fungerer som et felles spr√•k mellom team og fagfelt, slik at vi lettere kan skape gode og gjenkjennbare brukeropplevelser som er tilgjengelig for alle.

<Flex>
<Button href="https://mattilsynet-hq.slack.com/archives/C03FAJ7N1EU" data-variant="secondary"><svg width="24" height="24" viewBox="0 0 512 512"><path d="M126.12 315.1A47.06 47.06 0 1 1 79.06 268h47.06ZM149.84 315.1a47.06 47.06 0 0 1 94.12 0v117.84a47.06 47.06 0 1 1-94.12 0ZM196.9 126.12A47.06 47.06 0 1 1 244 79.06v47.06ZM196.9 149.84a47.06 47.06 0 0 1 0 94.12H79.06a47.06 47.06 0 0 1 0-94.12ZM385.88 196.9a47.06 47.06 0 1 1 47.06 47.1h-47.06ZM362.16 196.9a47.06 47.06 0 0 1-94.12 0V79.06a47.06 47.06 0 1 1 94.12 0ZM315.1 385.88a47.06 47.06 0 1 1-47.1 47.06v-47.06ZM315.1 362.16a47.06 47.06 0 0 1 0-94.12h117.84a47.06 47.06 0 1 1 0 94.12Z"/></svg> Snakk med oss p√• Slack</Button>
<Button href="https://github.com/mattilsynet/design" data-variant="secondary"><svg width="24" height="24" viewBox="0 0 30 30"><path d="M15 3a12 12 0 0 0-2.9 23.63c-.06-.16-.1-.35-.1-.58V24h-1.5c-.83 0-1.56-.36-1.91-1.01-.4-.73-.46-1.85-1.44-2.53-.29-.23-.07-.48.27-.45.61.17 1.12.6 1.6 1.22.48.63.7.77 1.6.77.43 0 1.08-.02 1.69-.12.33-.83.9-1.6 1.59-1.96-4-.41-5.9-2.4-5.9-5.1 0-1.16.49-2.29 1.33-3.23-.28-.94-.62-2.86.1-3.59 1.8 0 2.89 1.17 3.15 1.48a9 9 0 0 1 5.84 0A4.17 4.17 0 0 1 21.56 8c.74.73.39 2.66.1 3.6A4.9 4.9 0 0 1 23 14.81c0 2.7-1.9 4.68-5.9 5.1 1.1.57 1.9 2.18 1.9 3.4v2.73c0 .1-.02.18-.04.26A12 12 0 0 0 15 3z"/></svg> Se p√• Github</Button>
<Button href="https://github.com/Mattilsynet/design/releases" data-variant="secondary"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 256 256"><path d="M224 128a8 8 0 0 1-8 8h-88a8 8 0 0 1 0-16h88a8 8 0 0 1 8 8Zm-96-56h88a8 8 0 0 0 0-16h-88a8 8 0 0 0 0 16Zm88 112h-88a8 8 0 0 0 0 16h88a8 8 0 0 0 0-16ZM82.34 42.34 56 68.69 45.66 58.34a8 8 0 0 0-11.32 11.32l16 16a8 8 0 0 0 11.32 0l32-32a8 8 0 0 0-11.32-11.32Zm0 64L56 132.69l-10.34-10.35a8 8 0 0 0-11.32 11.32l16 16a8 8 0 0 0 11.32 0l32-32a8 8 0 0 0-11.32-11.32Zm0 64L56 196.69l-10.34-10.35a8 8 0 0 0-11.32 11.32l16 16a8 8 0 0 0 11.32 0l32-32a8 8 0 0 0-11.32-11.32Z"/></svg> Se versjonslogg (v{getPkgVersion()})</Button>
</Flex>

<Divider data-gap="10" />

## Kom i gang for utviklere

Designsystemet tilbyr f√∏rst og fremst en rekke CSS klassenavn som hjelper deg bygge responsive, fleksible og tilgjengelige grensesnitt. I tillegg f√•r du tilgang til logoer, ikoner, illustasjoner og en rekke tokens/[CSS custom properties](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties) for enkel bygging av egne komponenter i Mattilsynet-drakt. Slik bruker du pakken:

1. **Installer** `@mattilsynet/design` fra Mattilsynets [NPM organsiasjon](https://www.npmjs.com/package/@mattilsynet/design):
    <Tabs data-size="sm">
      <Tabs.List>
        <Tabs.Tab>NPM</Tabs.Tab>
        <Tabs.Tab>PNPM</Tabs.Tab>
        <Tabs.Tab>Yarn</Tabs.Tab>
        <Tabs.Tab>Bun</Tabs.Tab>
        <Tabs.Tab>Clojure</Tabs.Tab>
      </Tabs.List>
      <Tabs.Panel>
        ```bash
        npm install @mattilsynet/design --save
        ```
      </Tabs.Panel>
      <Tabs.Panel>
        ```bash
        pnpm add @mattilsynet/design
        ```
      </Tabs.Panel>
      <Tabs.Panel>
        ```bash
        yarn add @mattilsynet/design
        ```
      </Tabs.Panel>
      <Tabs.Panel>
        ```bash
        bun add @mattilsynet/design
        ```
      </Tabs.Panel>
      <Tabs.Panel style={{ padding: 20 }}>
        <Button data-variant="primary" target="_blank" href="https://github.com/Mattilsynet/design/blob/next/clojure/README.md">Se egen README for Clojure <ArrowSquareOutIcon /></Button>
      </Tabs.Panel>
    </Tabs>

2. **Importer JavaScript** st√∏ttefunksjonalitet *eller* **React komponenter**:
    <Tabs data-size="sm">
      <Tabs.List>
        <Tabs.Tab>JS</Tabs.Tab>
        <Tabs.Tab>HTML</Tabs.Tab>
        <Tabs.Tab>React</Tabs.Tab>
      </Tabs.List>
      <Tabs.Panel>
        ```js
        import "@mattilsynet/design";
        ```
      </Tabs.Panel>
      <Tabs.Panel>
        ```html
        <!-- Only use if you have no build step: -->
        <script src="node_modules/@mattilsynet/design/mtds/index.iife.js"></script>
        ```
      </Tabs.Panel>
      <Tabs.Panel>
        1. √ân fil i prosjektet m√• inneholde javscript-import og `"use client"` for at Next.js og kj√∏re n√∏dvendig Javascript i nettleser.
            Dette trenger ikke v√¶re samme fil som lager HTML - alt kan server-side-rendres.
            ```js
            "use client"
            import "@mattilsynet/design";
            ```
        2. Deretter kan du i andre filer benytte komponenter fra `@mattilsynet/design/react`:
            ```jsx
            import { Button } from "@mattilsynet/design/react";
            ```
      </Tabs.Panel>
    </Tabs>
3. **Importer stiler** enten via JavaScript, CSS eller med TailwindCSS:
    <Tabs data-size="sm">
      <Tabs.List>
        <Tabs.Tab>JS</Tabs.Tab>
        <Tabs.Tab>CSS</Tabs.Tab>
        <Tabs.Tab>TailwindCSS v4</Tabs.Tab>
        <Tabs.Tab>TailwindCSS v3 and older</Tabs.Tab>
      </Tabs.List>
      <Tabs.Panel>
        ```js
        import "@mattilsynet/design/styles.css";
        ```
      </Tabs.Panel>
      <Tabs.Panel>
        ```css
        @import url("@mattilsynet/design/styles.css");
        ```
      </Tabs.Panel>
      <Tabs.Panel>
        ```css
        /* Load @mattilsynet/design before Tailwind: */
        @import '@mattilsynet/design/styles.css';
        
        /* Get Mattilsynet tokens as Tailwind config: */
        @import '@mattilsynet/design/tailwind.css';
        @import 'tailwindcss';
        ```
      </Tabs.Panel>
      <Tabs.Panel>
        ```css
        /* Load @mattilsynet/design before Tailwind */
        @import url('@mattilsynet/design/styles.css');

        /**
        * Fix Tailwind Preflight specificity by using @layer:
        * See https://css-tricks.com/?p=372576
        */
        @layer tailwind-base {
          @tailwind base;
        }
        @tailwind components;
        @tailwind utilities;

        ```
      </Tabs.Panel>
    </Tabs>

    > ### ‚ö†Ô∏è Merk: `background`, `color` og `font` blir satt p√• `<body>`
    >
    > `body { background: ‚Ä¶; color: ‚Ä¶; font: ‚Ä¶ }` blir automatisk definert,
    > slik at vi ivaretar [universell utforming](https://www.w3.org/WAI/WCAG21/Understanding/resize-text.html) og f√•r samme font og farge p√• tvers.
    > Dette er lett √• overstyre ved behov: din CSS vil alltid ha f√∏rste prioritert - takket v√¶re teknikken [CSS @layer](https://developer.mozilla.org/en-US/docs/Web/CSS/@layer) üíõ
4. **Ta i bruk stiler**
    - **St√∏rrelser kan endres** med `data-size="sm | md | lg | xl"` p√• *alle* HTML elementer - ogs√• HTML elementer uten designsystem-klasse
    - **Foretrekk √• endre CSS custom properties** fremfor rene properties; f.eks.: `--mtds-button-border-color` istedenfor `border`
    - **Klassenavn** hentes fra  `styles` objektet:

    <Tabs data-size="sm">
      <Tabs.List>
        <Tabs.Tab>JSX</Tabs.Tab>
        <Tabs.Tab>JS</Tabs.Tab>
        <Tabs.Tab>JSON</Tabs.Tab>
      </Tabs.List>
      <Tabs.Panel>
        ```jsx
        import { styles } from "@mattilsynet/design";

        <button className={styles.button}></button>
        ```
      </Tabs.Panel>
      <Tabs.Panel>
        ```jsx
        import { styles } from "@mattilsynet/design";

        <button class={styles.button}></button>
        ```
      </Tabs.Panel>
      <Tabs.Panel>
        ```jsx
        import styles from "@mattilsynet/design/styles.json";

        <button class={styles.button}></button>
        ```
      </Tabs.Panel>
    </Tabs>

    > ### Hvorfor ikke bare skrive `class="button"`?
    >
    > Det skal v√¶re trygt √• importere designsystemet i eksisterende prosjekt, eller bruke flere versjoner samtidig.
    > Ved √• bruke [CSS-moduler](https://github.com/css-modules/css-modules) f√•r vi hashede klassenavn,
    > som hindrer konflikt og gj√∏r at du slipper √• tenke p√• versjonering ü•≥
5. **Ta i bruk illustrasjoner og ikoner**:
    - [Logo og favicon har egen dokumentasjon](?path=/docs/designsystem-logo--docs)
    - [Ikoner](https://github.com/phosphor-icons/homepage?tab=readme-ov-file#for-developers) kan importeres fra [PhosphorIcons](https://github.com/phosphor-icons/homepage?tab=readme-ov-file#for-developers) (se ogs√• [egen oppskrift for React SSR](https://github.com/phosphor-icons/react?tab=readme-ov-file#react-server-components-and-ssr))
    - [Mattilsynet-ikoner](?path=/docs/identitet-ikoner--docs) kan importeres fra `@mattilsynet/design/icons/*.svg`
    - [Illustasjoner](?path=/docs/identitet-illustrasjoner--docs) kan importeres fra `@mattilsynet/design/illustrations/*.svg`
    - **Bruker du Vite?** Hent SVG kilde ved bruk av [parameteret ?raw](https://vite.dev/guide/assets#importing-asset-as-string)
    - **Bruker du Vite+React?** Installer [vite-plugin-svgr](https://www.npmjs.com/package/vite-plugin-svgr) for √• importere SVG som komponenter:<br/>`import Fish from "@mattilsynet/design/illustrations/fish.svg?react";`

{/*Hvorfor CSS og ikke React komponenter?*/}

## Kom i gang for designere

Kommer