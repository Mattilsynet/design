@layer mt.design {
	.alert {
		composes: ds-alert from "@digdir/designsystemet-css";

		--dsc-alert-background: var(--mt-color-bakgrunns-blaa);
		--dsc-alert-color: var(--mt-color-fjord);
		--dsc-alert-border-color: var(--mt-color-100);
		--dsc-alert-icon-url: var(--mt-icon-info);
		--dsc-alert-icon-color: currentcolor;

		& > * {
			margin-block: 0;
		}
		& > * + * {
			margin-top: 1em;
		}
		& :is(h2, h3, h3, h4):first-child {
			font-size: 1em;
		}

		/* https://every-layout.dev/layouts/stack/ */
		& > * + * {
			margin-top: 1em;
		}

		/**
		 * Close button
		 */
		position: relative;
		&:has(> button:last-child:empty) {
			padding-right: var(--ds-size-12);
		}
		& > button:last-child:empty {
			all: unset;
			border-radius: var(--ds-border-radius-full);
			cursor: pointer;
			margin: var(--dsc-alert-padding);
			position: absolute;
			right: 0;
			top: 0;
			transition: scale .2s;

			&:focus-visible {
				box-shadow: var(--ds--focus, var(--dsc-focus-boxShadow));
				outline-offset: var(--ds--focus, var(--dsc-focus-border-width));
				outline: var(--ds--focus, var(--dsc-focus-outline));
			}

			&:active {
				scale: 0.9;
			}

			&::before {
				box-sizing: content-box;
				display: block;
				background: currentcolor;
				content: "";
				mask: center / contain no-repeat var(--mt-icon-close) content-box;
				height: var(--mt-icon-size);
				width: var(--mt-icon-size);
				padding: .5em;
				margin: -.5em;
			}
		}

		&[data-color="warning"] {
			--dsc-alert-background: var(--mt-color-bakgrunns-gul);
			--dsc-alert-color: var(--mt-color-skin-dark);
			--dsc-alert-icon-url: var(--mt-icon-warning);
		}
		&[data-color="success"] {
			--dsc-alert-background: var(--mt-color-lav);
			--dsc-alert-color: var(--mt-color-granskog);
			--dsc-alert-icon-url: var(--mt-icon-success);
		}
		&[data-color="danger"] {
			--dsc-alert-background: var(--mt-color-bakgrunns-rosa);
			--dsc-alert-color: var(--mt-color-info-rod);
			--dsc-alert-icon-url: var(--mt-icon-danger);
		}
	}
}
