@layer mt.design {
	.alert {
		composes: ds-alert from "@digdir/designsystemet-css";

		--dsc-alert-background: #dfeef6;
		--dsc-alert-border-color: color-mix(in hsl, currentcolor, transparent 90%);
		--dsc-alert-icon-url: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M4 3.25a.75.75 0 0 0-.75.75v16c0 .41.34.75.75.75h16a.75.75 0 0 0 .75-.75V4a.75.75 0 0 0-.75-.75zm.75 16V4.75h14.5v14.5zM11 7.75a1 1 0 1 1 2 0 1 1 0 0 1-2 0M10.5 10a.75.75 0 0 0 0 1.5h.75v4h-.75a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-.75v-4.75A.75.75 0 0 0 12 10z'/%3E%3C/svg%3E");
		--dsc-alert-icon-color: currentcolor;

		& :is(h2, h3, h3, h4):first-child {
			font-size: 1em;
			margin: 0;
		}

		/* https://every-layout.dev/layouts/stack/ */
		& > * + * {
			margin-top: 1em;
		}

		/**
		 * Close button
		 */
		position: relative;
		&:has(> button:empty) {
			padding-right: var(--ds-sizing-12);
		}
		& > button:empty {
			all: unset;
			border-radius: var(--ds-border-radius-full);
			cursor: pointer;
			margin: var(--dsc-alert-padding);
			position: absolute;
			right: 0;
			top: 0;
			transition: scale .2s;

			&:focus-visible {
				box-shadow: var(--ds--focus, var(--dsc-focus-boxShadow));
				outline-offset: var(--ds--focus, var(--dsc-focus-border-width));
				outline: var(--ds--focus, var(--dsc-focus-outline));
			}

			&:active {
				scale: 0.9;
			}

			&::before {
				box-sizing: content-box;
				display: block;
				background: currentcolor;
				content: "";
				mask: center / contain no-repeat var(--mt-icon-close) content-box;
				height: var(--mt-icon-size);
				width: var(--mt-icon-size);
				padding: .5em;
				margin: -.5em;
			}
		}

		&[data-color="warning"] {
			--dsc-alert-background: #fcf0d2;
			--dsc-alert-icon-url: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M12 2.25a.75.75 0 0 1 .66.39l9.52 17.25a.75.75 0 0 1-.65 1.11H2.47a.75.75 0 0 1-.65-1.11l9.52-17.25a.75.75 0 0 1 .66-.39m8.26 17.25L12 4.55 3.75 19.5zM12 8.75a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75m0 6.75a1 1 0 1 0 0 2 1 1 0 0 0 0-2'/%3E%3C/svg%3E");
		}
		&[data-color="success"] {
			--dsc-alert-background: #e2f1df;
			--dsc-alert-icon-url: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M3.75 12a8.25 8.25 0 1 1 16.5 0 8.25 8.25 0 0 1-16.5 0M12 2.25a9.75 9.75 0 1 0 0 19.5 9.75 9.75 0 0 0 0-19.5m4.57 7.23a.75.75 0 1 0-1.14-.96l-4.98 5.87-2.42-2.42a.75.75 0 0 0-1.06 1.06l3 3a.75.75 0 0 0 1.1-.05z'/%3E%3C/svg%3E");
		}
		&[data-color="danger"] {
			--dsc-alert-background: #fee9df;
			--dsc-alert-icon-url: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M8.27 2.25a.75.75 0 0 0-.53.22L2.47 7.74a.75.75 0 0 0-.22.53v7.46c0 .2.08.39.22.53l5.27 5.27c.14.14.33.22.53.22h7.46a.75.75 0 0 0 .53-.22l5.27-5.27a.75.75 0 0 0 .22-.53V8.27a.75.75 0 0 0-.22-.53l-5.27-5.27a.75.75 0 0 0-.53-.22zM3.75 8.58l4.83-4.83h6.84l4.83 4.83v6.84l-4.83 4.83H8.58l-4.83-4.83zm5.28-.61a.75.75 0 0 0-1.06 1.06L10.94 12l-2.97 2.97a.75.75 0 1 0 1.06 1.06L12 13.06l2.97 2.97a.75.75 0 1 0 1.06-1.06L13.06 12l2.97-2.97a.75.75 0 0 0-1.06-1.06L12 10.94z'/%3E%3C/svg%3E");
		}
	}
}
