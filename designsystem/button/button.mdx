import { Meta, Canvas } from '@storybook/addon-docs/blocks';
import { Example, CssVariables } from '../../.storybook/blocks';
import { HeartIcon } from '@phosphor-icons/react';
import { Flex } from '../react';
import * as stories from './button.stories';
import styles from '../styles.module.css';

<Meta of={stories} />

# Button
- Legg klassen `button` på typisk `<button>` eller `<a>`
- Husk `type="button"` hvis en `<button>` gjør noe annet enn å sende skjema
- Bruk `data-variant="primary | secondary | tertiary"`
- **Merk:** `data-variant="tertiary"` er default siden dette benyttes mest, men for å sikre god universell utforming må knappen da inneholde enten ikon og tekst, eller plasseres ved andre knapper.
<Canvas of={stories.Default} />

## Skikk og bruk

<Flex data-items="350">
  <Example data-color="success" text="Gjør sånn gjør sånn gjør sånn gjør sånn gjør sånn gjør sånn gjør sånn" zoom="50%">
    <ol className={styles.steps}>
      <li>
        <mark><HeartIcon /></mark>
        <strong>Steg 1</strong>
        <br />
        <small>Beskrivelse</small>
      </li>
      <li>
        <mark />
        <strong>Steg 2</strong>
        <br />
        <small>Donec et odio</small>
      </li>
      <li aria-current="step" data-color="danger">
        <mark />
        <strong>Steg 3</strong>
      </li>
      <li>
        <mark />
        <strong>Steg 4</strong>
      </li>
      <li>
        <mark />
        <strong>Steg 5</strong>
      </li>
    </ol>
  </Example>
  <Example data-color="danger" text="Gjør sånn gjør sånn gjør sånn gjør sånn gjør sånn gjør sånn gjør sånn" zoom="50%">
    <ol className={styles.steps}>
      <li>
        <mark><HeartIcon /></mark>
        <strong>Steg 1</strong>
        <br />
        <small>Beskrivelse</small>
      </li>
      <li>
        <mark />
        <strong>Steg 2</strong>
        <br />
        <small>Donec et odio</small>
      </li>
      <li aria-current="step" data-color="danger">
        <mark />
        <strong>Steg 3</strong>
      </li>
      <li>
        <mark />
        <strong>Steg 4</strong>
      </li>
      <li>
        <mark />
        <strong>Steg 5</strong>
      </li>
    </ol>
  </Example>
  <Example data-color="success" text="Gjør sånn gjør sånn gjør sånn gjør sånn gjør sånn gjør sånn gjør sånn" zoom="50%">
    <ol className={styles.steps}>
      <li>
        <mark><HeartIcon /></mark>
        <strong>Steg 1</strong>
        <br />
        <small>Beskrivelse</small>
      </li>
      <li>
        <mark />
        <strong>Steg 2</strong>
        <br />
        <small>Donec et odio</small>
      </li>
      <li aria-current="step" data-color="danger">
        <mark />
        <strong>Steg 3</strong>
      </li>
      <li>
        <mark />
        <strong>Steg 4</strong>
      </li>
      <li>
        <mark />
        <strong>Steg 5</strong>
      </li>
    </ol>
  </Example>
  <Example data-color="danger" text="Gjør sånn gjør sånn gjør sånn gjør sånn gjør sånn gjør sånn gjør sånn" zoom="50%">
    <ol className={styles.steps}>
      <li>
        <mark><HeartIcon /></mark>
        <strong>Steg 1</strong>
        <br />
        <small>Beskrivelse</small>
      </li>
      <li>
        <mark />
        <strong>Steg 2</strong>
        <br />
        <small>Donec et odio</small>
      </li>
      <li aria-current="step" data-color="danger">
        <mark />
        <strong>Steg 3</strong>
      </li>
      <li>
        <mark />
        <strong>Steg 4</strong>
      </li>
      <li>
        <mark />
        <strong>Steg 5</strong>
      </li>
    </ol>
  </Example>
  <Example data-color="success" text="Gjør sånn gjør sånn gjør sånn gjør sånn gjør sånn gjør sånn gjør sånn" zoom="50%">
    <ol className={styles.steps}>
      <li>
        <mark><HeartIcon /></mark>
        <strong>Steg 1</strong>
        <br />
        <small>Beskrivelse</small>
      </li>
      <li>
        <mark />
        <strong>Steg 2</strong>
        <br />
        <small>Donec et odio</small>
      </li>
      <li aria-current="step" data-color="danger">
        <mark />
        <strong>Steg 3</strong>
      </li>
      <li>
        <mark />
        <strong>Steg 4</strong>
      </li>
      <li>
        <mark />
        <strong>Steg 5</strong>
      </li>
    </ol>
  </Example>
  <Example data-color="danger" text="Gjør sånn gjør sånn gjør sånn gjør sånn gjør sånn gjør sånn gjør sånn" zoom="50%">
    <ol className={styles.steps}>
      <li>
        <mark><HeartIcon /></mark>
        <strong>Steg 1</strong>
        <br />
        <small>Beskrivelse</small>
      </li>
      <li>
        <mark />
        <strong>Steg 2</strong>
        <br />
        <small>Donec et odio</small>
      </li>
      <li aria-current="step" data-color="danger">
        <mark />
        <strong>Steg 3</strong>
      </li>
      <li>
        <mark />
        <strong>Steg 4</strong>
      </li>
      <li>
        <mark />
        <strong>Steg 5</strong>
      </li>
    </ol>
  </Example>
</Flex>

## Størrelser
- Bruk `data-size="sm | md | lg"`
<Canvas of={stories.Sizes} />

## Farger
- Bruk `data-color="danger"` for å få rød knapp
<Canvas of={stories.Colors} />

## Innhold på en linje
- Bruk `<span data-nowrap>` rundt tekst dersom du ønsker å tvinge tekst til en linje
<Canvas of={stories.Nowrap} />

## Innholdsplassering
- Bruk `data-justify="start | center | end"` (`center` er default når *ikke* i `<menu>`) 
<Canvas of={stories.Justify} />

## Pil og popover
- Legg på `data-arrow` (høyrestilt) eller `data-arrow="left | right"`
- Lasteindikator vil erstatte pil dersom disse kombineres
- Kombiner `popovertarget` + `data-arrow` for chevron
<Canvas of={stories.WithArrows} />

## Ikoner
- [Ikon fra phosphoricons.com](https://phosphoricons.com/) kan legges før eller etter tekst
<Canvas of={stories.WithIcons} />

## Spinner
- For `<button>`: Legg på `<button aria-busy="true" disabled`
- For `<a>`: Legg på `<a aria-busy="true" tabindex="-1"`
- Lasteindikator vil erstatte pil dersom disse kombineres
<Canvas of={stories.WithSpinner} />

## Handlingsmeny
- Bruk `aria-label="Knappetekst her"` i stedet for innhold
- Da får du automatisk ikon for handlingsmeny <svg aria-hidden="ture" width="1em" height="1em" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><circle cx="128" cy="128" r="16"/><circle cx="60" cy="128" r="16"/><circle cx="196" cy="128" r="16"/></svg>

<Canvas of={stories.WithMenu} />

## Pressed
- Bruk `<button>` med `aria-pressed="true"`
- Du kan vise/skjule innhold ved bruke attributten `data-pressed="true | false"` på barn
- **Merk:** Dersom neste element er `popover`, vil `data-pressed="true | false"` også fungere
<Canvas of={stories.Pressed} />

## Tooltip
- Bruk `data-tooltip="Hjelpetekst"`
- Bruk `data-tooltip-position="top | right | bottom | left"` for å endre plassering
- Teksten blir også automatisk tilgjengelig for skjermlesere
<Canvas of={stories.WithTooltip} />

## I meny
- Legger du `button` i `<menu><li>` vil knappene ha samme bredde og venstrestilt tekst
- Ved bruk av `aria-pressed="true"` (for `button`) eller `aria-current="page"` (for lenke) indikeres aktivt valg i menyen
<Canvas of={stories.InMenu} />

<CssVariables component="button" />