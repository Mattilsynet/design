@layer mt.design {
	.tag {
		composes: ds-tag from "@digdir/designsystemet-css";
		--dsc-tag-background: var(--mtds-color-100);

		border-radius: 5px;
		border: 1px solid var(--mtds-color-100);
		font-variant-numeric: tabular-nums;
		gap: var(--ds-size-1);
		height: fit-content; /* Can be removed when DigiDir gets this */

		/**
		 * Icon
		 */
		& > svg {
			flex-shrink: 0; /* Never shrkink icon */
		}
		&:not([data-icon], :has(svg))::before {
			background: currentcolor;
			content: "";
			display: var(--dsc-tag-icon-url, none); /* Hide if no --dsc-tag-icon-url is set */
			flex-shrink: 0;
			height: var(--mtds-icon-size);
			mask: center / contain no-repeat var(--dsc-tag-icon-url) content-box;
			width: var(--mtds-icon-size);
		}

		/**
		 * Colors
		 */
		&[data-color="info"] {
			--dsc-tag-background: var(--mtds-color-bakgrunns-blaa);
			--dsc-tag-color: var(--mtds-color-fjord);
			--dsc-tag-icon-url: var(--mtds-icon-info);
		}
		&[data-color="success"] {
			--dsc-tag-background: var(--mtds-color-lav);
			--dsc-tag-color: var(--mtds-color-granskog);
			--dsc-tag-icon-url: var(--mtds-icon-success);
		}
		&[data-color="warning"] {
			--dsc-tag-background: var(--mtds-color-bakgrunns-gul);
			--dsc-tag-color: var(--mtds-color-info-gul);
			--dsc-tag-icon-url: var(--mtds-icon-warning);
		}
		&[data-color="danger"] {
			--dsc-tag-background: var(--mtds-color-bakgrunns-rosa);
			--dsc-tag-color: var(--mtds-color-info-rod);
			--dsc-tag-icon-url: var(--mtds-icon-danger);
		}

		/**
		 * Tooltip
		 */
		position: relative;
		&[data-tooltip]::after {
			background: var(--mtds-color-mork-granskog);
			border-radius: var(--ds-border-radius-md);
			color: var(--ds-color-accent-contrast-default);
			content: attr(data-tooltip);
			font-size: .9375rem;
			font-weight: 500;
			left: 50%;
			line-height: var(--ds-line-height-sm);
			max-width: 18em;
			opacity: 0;
			padding: var(--ds-size-1) var(--ds-size-2);
			pointer-events: none;
			position: absolute;
			top: 100%;
			transition: .15s;
			translate: -50%;
			visibility: hidden;
			width: max-content;
		}
		&[data-tooltip]:focus-visible::after,
		&[data-tooltip]:hover::after {
			opacity: 1;
			translate: -50% 2px;
			visibility: visible;
		}
	}
}
