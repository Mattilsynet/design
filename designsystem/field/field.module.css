@layer mt.design {
	.field {
		composes: ds-field from "@digdir/designsystemet-css";
		row-gap: var(--ds-spacing-2);

		/**
		 * Child added event inspired by:
		 * https://davidwalsh.name/detect-node-insertion
		 */
		* {
			animation: fieldChildAdded 100ms;
		}

		/* <p> is used for field descriptions */
		& > p {
			margin: 0;
		}
		& > label + p {
			margin-top: calc(var(--ds-spacing-2) * -1);
		}

		/* Allow inputs to have both readonly and disabled since browser does not prevent readonly on checkobx/radio */
		&:has([readonly]:disabled) label {
			cursor: default;
			opacity: 1;
		}
	}
	.affixes {
		composes: ds-field-affixes from "@digdir/designsystemet-css";

		--dsc-field-affix-border-color: var(--ds-color-neutral-border-default);
		--dsc-field-affix-border: 1px solid var(--dsc-field-affix-border-color);

		align-items: center;
		box-shadow: inset 0 0 0 1px var(--dsc-field-affix-border-color);
		display: flex;

		& > * {
			padding-inline: var(--dsc-field-affix-padding-inline);
		}
	}
	.count {
		font: inherit;
	}
}

@keyframes fieldChildAdded {
	from {
		scale: 1;
	}
}
