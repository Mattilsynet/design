import { ArgTypes, Meta, Canvas } from '@storybook/blocks';
import { CssVariables } from '../../.storybook/blocks';
import * as stories from './field.stories';
import styles from "../styles.module.css";

<Meta of={stories} />

# Field

## Generelt
- Legg klassen `field` på typisk en `<div>` rundt ledetekst og skjemafelt
- Dette kobler automatisk sammen `<label>` og `<input>`, samt eventuelle element med `<p>` og klassen `validation`

<u-details class={styles.details}>
  <u-summary>Se egne parameter for React</u-summary>
<div>
I React kan du velge å bruke `<Field>` med `<label>`, `<Input>` osv. for full kontroll, eller med `as="input"`/`as="select"` og props for automatisk oppsett av elementer:
<ArgTypes of={stories} />
</div>
</u-details>

<Canvas of={stories.Default} />

## Obligatorisk felt
- Legg `required` eller `aria-required` på skjemaelementet
- Da får du automatisk teksten `Må fylles ut` i `<label>`
- Teksten `Må fylles ut` oversettes automatisk til `Required` dersom du setter `<html lang="en">`. Du kan også selv endre tekst med CSS custom property: `--mtds-text-required: "Må fylles ut";`
- **Merk:** Dersom du ønsker å skru denne [lovpålagte merkingen av obligatoriske felter](https://www.designsystemet.no/monstre/obligatoriske-og-valgfrie-felt), kan du legge `data-required="hidden"` på hvilket som helst element (f.eks. `<html data-required="hidden">` for å skru av for hele dokumentet)
<Canvas of={stories.Required} />

## Radio / Check / Switch
- Ved bruk av `<input type="checkbox | radio"` vil `<label>`, `<p>` og `class="styles.validation"` legge seg etter input
<Canvas of={stories.Toggles} />

## Delvis valgt checkbox
- Bruk `indeterminate` ([via javascript](https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/indeterminate)) på `<input type="checkbox">` for delvis valgt checkbox
<Canvas of={stories.Indeterminate} />

## Feilmelding
- Legg klassen `validation` på et element for å tilknytte feilmelding
<Canvas of={stories.WithValidation} />

## Prefiks og suffiks
- Legg klassen `affixes` på en `<div>` rundt `input`
- Legg elementer før eller etter `input` for å legge til ikon eller tekst
- **Merk:** for god tilgjengelighet, beskriv ønsket innhold i `<p>` eller `<label>`, f.eks.: "Pris i NOK per måned"
<Canvas of={stories.WithAffixes} />

## Antall tegn
- Legg `data-count="number"` på `<p>` etter `input`
- Teksten oversettes automatisk til engelsk dersom du setter `<html lang="en">`. Du kan også selv endre tekst med CSS custom property, hvor `%d` er antall tegn. Eksempel:
  `--mtds-text-count-under: "%d characters remaining";`
  `--mtds-text-count-over: "%d characters too many";`
<Canvas of={stories.WithCharacterCount} />

<CssVariables component="field" />